{"ast":null,"code":"var _jsxFileName = \"/workspaces/project-orchestrator/frontend/src/components/ChatButton.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport ChatWindow from \"./ChatWindow\";\nimport axios from \"axios\";\nimport \"./chat.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ChatButton({\n  visible: propVisible,\n  position: propPosition,\n  mode\n}) {\n  _s();\n  const [visible, setVisible] = useState(propVisible !== null && propVisible !== void 0 ? propVisible : true);\n  const [position, setPosition] = useState(propPosition !== null && propPosition !== void 0 ? propPosition : \"bottom-right\");\n  const [open, setOpen] = useState(false);\n  useEffect(() => {\n    if (typeof propVisible === \"undefined\" || typeof propPosition === \"undefined\") {\n      axios.get(\"/api/admin/settings\").then(res => {\n        const s = res.data || {};\n        if (typeof propVisible === \"undefined\") setVisible(Boolean(s.chat_enabled));\n        if (typeof propPosition === \"undefined\") setPosition(s.chat_position || \"bottom-right\");\n      }).catch(() => {\n        // assume visible by default if settings fail\n      });\n    }\n  }, [propVisible, propPosition]);\n  if (!visible) return null;\n  const posClass = position === \"bottom-left\" ? \"chat-btn-left\" : \"chat-btn-right\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `chat-button ${posClass}`,\n      onClick: () => setOpen(v => !v),\n      role: \"button\",\n      \"aria-label\": \"Open chat\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-icon\",\n        children: \"\\uD83D\\uDCAC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-label\",\n        children: \"Chat with Sales\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), open && /*#__PURE__*/_jsxDEV(ChatWindow, {\n      onClose: () => setOpen(false),\n      position: position,\n      mode: mode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 16\n    }, this)]\n  }, void 0, true);\n}\n_s(ChatButton, \"JIeefnXnz5S4Of3PeffsNOYrZBo=\");\n_c = ChatButton;\nvar _c;\n$RefreshReg$(_c, \"ChatButton\");","map":{"version":3,"names":["React","useEffect","useState","ChatWindow","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatButton","visible","propVisible","position","propPosition","mode","_s","setVisible","setPosition","open","setOpen","get","then","res","s","data","Boolean","chat_enabled","chat_position","catch","posClass","children","className","onClick","v","role","fileName","_jsxFileName","lineNumber","columnNumber","onClose","_c","$RefreshReg$"],"sources":["/workspaces/project-orchestrator/frontend/src/components/ChatButton.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ChatWindow from \"./ChatWindow\";\nimport axios from \"axios\";\nimport \"./chat.css\";\n\nexport default function ChatButton({ visible: propVisible, position: propPosition, mode }) {\n  const [visible, setVisible] = useState(propVisible ?? true);\n  const [position, setPosition] = useState(propPosition ?? \"bottom-right\");\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    if (typeof propVisible === \"undefined\" || typeof propPosition === \"undefined\") {\n      axios.get(\"/api/admin/settings\").then(res => {\n        const s = res.data || {};\n        if (typeof propVisible === \"undefined\") setVisible(Boolean(s.chat_enabled));\n        if (typeof propPosition === \"undefined\") setPosition(s.chat_position || \"bottom-right\");\n      }).catch(() => {\n        // assume visible by default if settings fail\n      });\n    }\n  }, [propVisible, propPosition]);\n\n  if (!visible) return null;\n\n  const posClass = position === \"bottom-left\" ? \"chat-btn-left\" : \"chat-btn-right\";\n\n  return (\n    <>\n      <div className={`chat-button ${posClass}`} onClick={() => setOpen(v => !v)} role=\"button\" aria-label=\"Open chat\">\n        <div className=\"chat-icon\">ðŸ’¬</div>\n        <div className=\"chat-label\">Chat with Sales</div>\n      </div>\n\n      {open && <ChatWindow onClose={() => setOpen(false)} position={position} mode={mode} />}\n    </>\n  );\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEpB,eAAe,SAASC,UAAUA,CAAC;EAAEC,OAAO,EAAEC,WAAW;EAAEC,QAAQ,EAAEC,YAAY;EAAEC;AAAK,CAAC,EAAE;EAAAC,EAAA;EACzF,MAAM,CAACL,OAAO,EAAEM,UAAU,CAAC,GAAGd,QAAQ,CAACS,WAAW,aAAXA,WAAW,cAAXA,WAAW,GAAI,IAAI,CAAC;EAC3D,MAAM,CAACC,QAAQ,EAAEK,WAAW,CAAC,GAAGf,QAAQ,CAACW,YAAY,aAAZA,YAAY,cAAZA,YAAY,GAAI,cAAc,CAAC;EACxE,MAAM,CAACK,IAAI,EAAEC,OAAO,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EAEvCD,SAAS,CAAC,MAAM;IACd,IAAI,OAAOU,WAAW,KAAK,WAAW,IAAI,OAAOE,YAAY,KAAK,WAAW,EAAE;MAC7ET,KAAK,CAACgB,GAAG,CAAC,qBAAqB,CAAC,CAACC,IAAI,CAACC,GAAG,IAAI;QAC3C,MAAMC,CAAC,GAAGD,GAAG,CAACE,IAAI,IAAI,CAAC,CAAC;QACxB,IAAI,OAAOb,WAAW,KAAK,WAAW,EAAEK,UAAU,CAACS,OAAO,CAACF,CAAC,CAACG,YAAY,CAAC,CAAC;QAC3E,IAAI,OAAOb,YAAY,KAAK,WAAW,EAAEI,WAAW,CAACM,CAAC,CAACI,aAAa,IAAI,cAAc,CAAC;MACzF,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM;QACb;MAAA,CACD,CAAC;IACJ;EACF,CAAC,EAAE,CAACjB,WAAW,EAAEE,YAAY,CAAC,CAAC;EAE/B,IAAI,CAACH,OAAO,EAAE,OAAO,IAAI;EAEzB,MAAMmB,QAAQ,GAAGjB,QAAQ,KAAK,aAAa,GAAG,eAAe,GAAG,gBAAgB;EAEhF,oBACEN,OAAA,CAAAE,SAAA;IAAAsB,QAAA,gBACExB,OAAA;MAAKyB,SAAS,EAAE,eAAeF,QAAQ,EAAG;MAACG,OAAO,EAAEA,CAAA,KAAMb,OAAO,CAACc,CAAC,IAAI,CAACA,CAAC,CAAE;MAACC,IAAI,EAAC,QAAQ;MAAC,cAAW,WAAW;MAAAJ,QAAA,gBAC9GxB,OAAA;QAAKyB,SAAS,EAAC,WAAW;QAAAD,QAAA,EAAC;MAAE;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACnChC,OAAA;QAAKyB,SAAS,EAAC,YAAY;QAAAD,QAAA,EAAC;MAAe;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9C,CAAC,EAELpB,IAAI,iBAAIZ,OAAA,CAACH,UAAU;MAACoC,OAAO,EAAEA,CAAA,KAAMpB,OAAO,CAAC,KAAK,CAAE;MAACP,QAAQ,EAAEA,QAAS;MAACE,IAAI,EAAEA;IAAK;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA,eACtF,CAAC;AAEP;AAACvB,EAAA,CA/BuBN,UAAU;AAAA+B,EAAA,GAAV/B,UAAU;AAAA,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}