{"ast":null,"code":"var _jsxFileName = \"/workspaces/project-orchestrator/frontend/src/components/ChatWindow.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ChatWindow({\n  onClose\n}) {\n  _s();\n  const [messages, setMessages] = useState([{\n    from: \"bot\",\n    text: \"Hi — tell us about your project (e.g., 'I need a website with booking and blog')\"\n  }]);\n  const [input, setInput] = useState(\"\");\n  const send = async () => {\n    if (!input.trim()) return;\n    const userMsg = {\n      from: \"user\",\n      text: input\n    };\n    setMessages(m => [...m, userMsg]);\n    setInput(\"\");\n    try {\n      const res = await axios.post(\"/api/message\", {\n        text: input,\n        client_info: {}\n      });\n      if (res.data.requires_clarification) {\n        setMessages(m => [...m, {\n          from: \"bot\",\n          text: \"I have a few quick questions to clarify.\"\n        }]);\n        res.data.questions.questions.forEach(q => setMessages(m => [...m, {\n          from: \"bot\",\n          text: q\n        }]));\n      } else if (res.data.status === \"completed\") {\n        setMessages(m => [...m, {\n          from: \"bot\",\n          text: `Estimate ready. Total cost: $${res.data.estimate.totalCost}`\n        }]);\n      } else {\n        setMessages(m => [...m, {\n          from: \"bot\",\n          text: JSON.stringify(res.data)\n        }]);\n      }\n    } catch (e) {\n      setMessages(m => [...m, {\n        from: \"bot\",\n        text: \"Error contacting server.\"\n      }]);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"fixed\",\n      right: 20,\n      bottom: 80,\n      width: 360,\n      height: 480,\n      border: \"1px solid #ccc\",\n      background: \"white\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 8,\n        borderBottom: \"1px solid #eee\",\n        display: \"flex\",\n        justifyContent: \"space-between\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Sales Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        padding: 10,\n        overflowY: \"auto\"\n      },\n      children: messages.map((m, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: 6,\n          textAlign: m.from === \"user\" ? \"right\" : \"left\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"inline-block\",\n            background: m.from === \"user\" ? \"#DCF8C6\" : \"#F1F0F0\",\n            padding: 8,\n            borderRadius: 6\n          },\n          children: m.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 112\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 33\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 8,\n        borderTop: \"1px solid #eee\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: input,\n        onChange: e => setInput(e.target.value),\n        style: {\n          width: \"75%\",\n          padding: 8\n        },\n        placeholder: \"Describe your project...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: send,\n        style: {\n          padding: 8,\n          marginLeft: 8\n        },\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatWindow, \"wUlGjl0qEJ5EEbmZ5zojgNOnqto=\");\n_c = ChatWindow;\nvar _c;\n$RefreshReg$(_c, \"ChatWindow\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","ChatWindow","onClose","_s","messages","setMessages","from","text","input","setInput","send","trim","userMsg","m","res","post","client_info","data","requires_clarification","questions","forEach","q","status","estimate","totalCost","JSON","stringify","e","style","position","right","bottom","width","height","border","background","display","flexDirection","children","padding","borderBottom","justifyContent","fileName","_jsxFileName","lineNumber","columnNumber","onClick","flex","overflowY","map","i","margin","textAlign","borderRadius","borderTop","value","onChange","target","placeholder","marginLeft","_c","$RefreshReg$"],"sources":["/workspaces/project-orchestrator/frontend/src/components/ChatWindow.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nexport default function ChatWindow({ onClose }) {\n  const [messages, setMessages] = useState([{from:\"bot\", text:\"Hi — tell us about your project (e.g., 'I need a website with booking and blog')\"}]);\n  const [input, setInput] = useState(\"\");\n\n  const send = async () => {\n    if (!input.trim()) return;\n    const userMsg = {from:\"user\", text: input};\n    setMessages((m) => [...m, userMsg]);\n    setInput(\"\");\n    try {\n      const res = await axios.post(\"/api/message\", {text: input, client_info: {}});\n      if (res.data.requires_clarification) {\n        setMessages((m) => [...m, {from:\"bot\", text: \"I have a few quick questions to clarify.\"}]);\n        res.data.questions.questions.forEach(q => setMessages((m) => [...m, {from:\"bot\", text: q}]));\n      } else if (res.data.status === \"completed\") {\n        setMessages((m) => [...m, {from:\"bot\", text: `Estimate ready. Total cost: $${res.data.estimate.totalCost}`}]);\n      } else {\n        setMessages((m) => [...m, {from:\"bot\", text: JSON.stringify(res.data)}]);\n      }\n    } catch (e) {\n      setMessages((m) => [...m, {from:\"bot\", text: \"Error contacting server.\"}]);\n    }\n  };\n\n  return (\n    <div style={{position:\"fixed\", right:20, bottom:80, width:360, height:480, border:\"1px solid #ccc\", background:\"white\", display:\"flex\", flexDirection:\"column\"}}>\n      <div style={{padding:8, borderBottom:\"1px solid #eee\", display:\"flex\", justifyContent:\"space-between\"}}>\n        <strong>Sales Chat</strong>\n        <button onClick={onClose}>X</button>\n      </div>\n      <div style={{flex:1, padding:10, overflowY:\"auto\"}}>\n        {messages.map((m, i) => <div key={i} style={{margin:6, textAlign: m.from===\"user\" ? \"right\" : \"left\"}}><div style={{display:\"inline-block\", background: m.from===\"user\" ? \"#DCF8C6\" : \"#F1F0F0\", padding:8, borderRadius:6}}>{m.text}</div></div>)}\n      </div>\n      <div style={{padding:8, borderTop:\"1px solid #eee\"}}>\n        <input value={input} onChange={e=>setInput(e.target.value)} style={{width:\"75%\", padding:8}} placeholder=\"Describe your project...\" />\n        <button onClick={send} style={{padding:8, marginLeft:8}}>Send</button>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}